<!DOCTYPE html>
<html>
  <head  lang="zh-tw">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>計算機</title>
	<link rel="stylesheet" href="./np.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
  </head>
<body>
	<table style="width:90%; border: none;">
    <thead>
        <tr>
			<th>編號</th>
            <th colspan="2">攻擊力</th>
			<th colspan="2">血量</th>
			<th colspan="2">體重</th>
			<th>陣營</th>
        </tr>
    </thead>
    <tbody>
        <tr id="tr1">
            <td id="no1"   onclick="team(1)">#1</td>
            <td id="atk1">2</td>
			<td class="iconBlack">
				<div class="icon" onclick="atkAdd(1)">
					+
				</div>
				<div class="icon" onclick="atkRed(1)">
					-
				</div>
			</td>
			<td id="hp1">3</td>
			<td class="iconBlack">
				<div class="icon" onclick="hpAdd(1)">
					+
				</div>
				<div class="icon" onclick="hpRed(1)">
					-
				</div>
			</td>
			<td id="wed1">65</td>
			<td class="iconBlack">
				<div class="icon" onclick="wedAdd(1)">
					+
				</div>
				<div class="icon" onclick="wedRed(1)">
					-
				</div>
			</td>
			<td id="status1" class="icon" onclick="changeStatus(1)">犯人</td>
        </tr>
		
		<tr id="tr2">
            <td id="no2"   onclick="team(2)">#2</td>
            <td id="atk2">6</td>
			<td class="iconBlack">
				<div class="icon" onclick="atkAdd(2)">
					+
				</div>
				<div class="icon" onclick="atkRed(2)">
					-
				</div>
			</td>
			<td id="hp2">3</td>
			<td class="iconBlack">
				<div class="icon" onclick="hpAdd(2)">
					+
				</div>
				<div class="icon" onclick="hpRed(2)">
					-
				</div>
			</td>
			<td id="wed2">75</td>
			<td class="iconBlack">
				<div class="icon" onclick="wedAdd(2)">
					+
				</div>
				<div class="icon" onclick="wedRed(2)">
					-
				</div>
			</td>
			<td id="status2" class="icon" onclick="changeStatus(2)">犯人</td>
        </tr>
		
		<tr id="tr3">
            <td id="no3"   onclick="team(3)">#3</td>
            <td id="atk3">6</td>
			<td class="iconBlack">
				<div class="icon" onclick="atkAdd(3)">
					+
				</div>
				<div class="icon" onclick="atkRed(3)">
					-
				</div>
			</td>
			<td id="hp3">3</td>
			<td class="iconBlack">
				<div class="icon" onclick="hpAdd(3)">
					+
				</div>
				<div class="icon" onclick="hpRed(3)">
					-
				</div>
			</td>
			<td id="wed3">60</td>
			<td class="iconBlack">
				<div class="icon" onclick="wedAdd(3)">
					+
				</div>
				<div class="icon" onclick="wedRed(3)">
					-
				</div>
			</td>
			<td id="status3" class="icon" onclick="changeStatus(3)">犯人</td>
        </tr>
		
		<tr id="tr4">
            <td id="no4"   onclick="team(4)">#4</td>
            <td id="atk4">6</td>
			<td class="iconBlack">
				<div class="icon" onclick="atkAdd(4)">
					+
				</div>
				<div class="icon" onclick="atkRed(4)">
					-
				</div>
			</td>
			<td id="hp4">3</td>
			<td class="iconBlack">
				<div class="icon" onclick="hpAdd(4)">
					+
				</div>
				<div class="icon" onclick="hpRed(4)">
					-
				</div>
			</td>
			<td id="wed4">60</td>
			<td class="iconBlack">
				<div class="icon" onclick="wedAdd(4)">
					+
				</div>
				<div class="icon" onclick="wedRed(4)">
					-
				</div>
			</td>
			<td id="status4" class="icon" onclick="changeStatus(4)">犯人</td>
        </tr>
		<tr id="tr5">
            <td id="no5"   onclick="team(5)">#5</td>
            <td id="atk5">1</td>
			<td class="iconBlack">
				<div class="icon" onclick="atkAdd(5)">
					+
				</div>
				<div class="icon" onclick="atkRed(5)">
					-
				</div>
			</td>
			<td id="hp5">3</td>
			<td class="iconBlack">
				<div class="icon" onclick="hpAdd(5)">
					+
				</div>
				<div class="icon" onclick="hpRed(5)">
					-
				</div>
			</td>
			<td id="wed5">60</td>
			<td class="iconBlack">
				<div class="icon" onclick="wedAdd(5)">
					+
				</div>
				<div class="icon" onclick="wedRed(5)">
					-
				</div>
			</td>
			<td id="status5" class="icon" onclick="changeStatus(5)">犯人</td>
        </tr>
		
		<tr id="tr6">
            <td id="no6"   onclick="team(6)">#6</td>
            <td id="atk6">6</td>
			<td class="iconBlack">
				<div class="icon" onclick="atkAdd(6)">
					+
				</div>
				<div class="icon" onclick="atkRed(6)">
					-
				</div>
			</td>
			<td id="hp6">3</td>
			<td class="iconBlack">
				<div class="icon" onclick="hpAdd(6)">
					+
				</div>
				<div class="icon" onclick="hpRed(6)">
					-
				</div>
			</td>
			<td id="wed6">65</td>
			<td class="iconBlack">
				<div class="icon" onclick="wedAdd(6)">
					+
				</div>
				<div class="icon" onclick="wedRed(6)">
					-
				</div>
			</td>
			<td id="status6" class="icon" onclick="changeStatus(6)">犯人</td>
        </tr>
		
		<tr id="tr7">
            <td id="no7"   onclick="team(7)">#7</td>
            <td id="atk7">4</td>
			<td class="iconBlack">
				<div class="icon" onclick="atkAdd(7)">
					+
				</div>
				<div class="icon" onclick="atkRed(7)">
					-
				</div>
			</td>
			<td id="hp7">3</td>
			<td class="iconBlack">
				<div class="icon" onclick="hpAdd(7)">
					+
				</div>
				<div class="icon" onclick="hpRed(7)">
					-
				</div>
			</td>
			<td id="wed7">60</td>
			<td class="iconBlack">
				<div class="icon" onclick="wedAdd(7)">
					+
				</div>
				<div class="icon" onclick="wedRed(7)">
					-
				</div>
			</td>
			<td id="status7" class="icon" onclick="changeStatus(7)">犯人</td>
        </tr>
		<tr id="tr8">
            <td id="no8"   onclick="team(8)">#8</td>
            <td id="atk8">4</td>
			<td class="iconBlack">
				<div class="icon" onclick="atkAdd(8)">
					+
				</div>
				<div class="icon" onclick="atkRed(8)">
					-
				</div>
			</td>
			<td id="hp8">3</td>
			<td class="iconBlack">
				<div class="icon" onclick="hpAdd(8)">
					+
				</div>
				<div class="icon" onclick="hpRed(8)">
					-
				</div>
			</td>
			<td id="wed8">65</td>
			<td class="iconBlack">
				<div class="icon" onclick="wedAdd(8)">
					+
				</div>
				<div class="icon" onclick="wedRed(8)">
					-
				</div>
			</td>
			<td id="status8" class="icon" onclick="changeStatus(8)">犯人</td>
        </tr>
		<tr id="tr9">
            <td id="no9"   onclick="team(9)">#9</td>
            <td id="atk9">3</td>
			<td class="iconBlack">
				<div class="icon" onclick="atkAdd(9)">
					+
				</div>
				<div class="icon" onclick="atkRed(9)">
					-
				</div>
			</td>
			<td id="hp9">3</td>
			<td class="iconBlack">
				<div class="icon" onclick="hpAdd(9)">
					+
				</div>
				<div class="icon" onclick="hpRed(9)">
					-
				</div>
			</td>
			<td id="wed9">65</td>
			<td class="iconBlack">
				<div class="icon" onclick="wedAdd(9)">
					+
				</div>
				<div class="icon" onclick="wedRed(9)">
					-
				</div>
			</td>
			<td id="status9" class="icon" onclick="changeStatus(9)">犯人</td>
        </tr>
		<tr id="tr10">
            <td id="no10"   onclick="team(10)">#10</td>
            <td id="atk10">6</td>
			<td class="iconBlack">
				<div class="icon" onclick="atkAdd(10)">
					+
				</div>
				<div class="icon" onclick="atkRed(10)">
					-
				</div>
			</td>
			<td id="hp10">3</td>
			<td class="iconBlack">
				<div class="icon" onclick="hpAdd(10)">
					+
				</div>
				<div class="icon" onclick="hpRed(10)">
					-
				</div>
			</td>
			<td id="wed10">75</td>
			<td class="iconBlack">
				<div class="icon" onclick="wedAdd(10)">
					+
				</div>
				<div class="icon" onclick="wedRed(10)">
					-
				</div>
			</td>
			<td id="status10" class="icon" onclick="changeStatus(10)">犯人</td>
        </tr>
		<tr>
			<td style="font-size: medium;">
				隊伍總攻擊力
			</td>
			<td id="teamAtk">
				0
			</td>
			<td onclick="teamAtkAdd()">
				+
			</td>
			<td onclick="teamAtkRed()">
				-
			</td>
			<td onclick="reTeamAtk()">
				Re
			</td>
			<td id= "totalWed">
				650
			</td>
			<td >
			</td>
			<td >
			</td>
		</tr>
		<tr>
			<td style="font-size: medium; height: 50px;">
				+1
			</td>
			<td style="font-size: medium; height: 50px;">
				+2
			</td>
			<td style="font-size: medium; height: 50px;">
				+3
			</td>
			<td style="font-size: medium; height: 50px;">
				+4
			</td>
			<td style="font-size: medium; height: 50px;">
				+5
			</td>
			<td style="font-size: medium; height: 50px;">
				+6
			</td>
			<td style="font-size: medium; height: 50px;">
			</td>
			<td style="font-size: medium; height: 50px;">
			</td>
		</tr>
		<tr>
			<td id="teamAtk1">
				
			</td>
			<td id="teamAtk2">
				
			</td>
			<td id="teamAtk3">
				
			</td>
			<td id="teamAtk4">
				
			</td>
			<td id="teamAtk5">
				
			</td>
			<td id="teamAtk6">
				
			</td>
			<td >
			</td>
			<td >
			</td>
		</tr>
    </tbody>
	</table>
	<table style="width:90%; border: none; ">
		<td>
			<select style="font-size: larger;" value="0" onchange="p1Select(this.value)">
				<option value="0" SELECTED  disabled>play 1</option>
				<option value="1">一號</option>
				<option value="2">二號</option>
				<option value="3">三號</option>
				<option value="4">四號</option>
				<option value="5">五號</option>
				<option value="6">六號</option>
				<option value="7">七號</option>
				<option value="8">八號</option>
				<option value="9">九號</option>
				<option value="10">十號</option>
			</select>
		</td>
		<td>
			<select style="font-size: larger;" id="p1RollValue" onchange="p1Sum()">
				<option value=1>+1</option>
				<option value=2>+2</option>
				<option value=3>+3</option>
				<option value=4>+4</option>
				<option value=5>+5</option>
				<option value=6>+6</option>
				<option value=7>+7</option>
				<option value=8>+8</option>
				<option value=9>+9</option>
				<option value=10>+10</option>
			</select>
		</td>
		<td>
			<select style="font-size: larger;" id="p1AddValue" onchange="p1Sum()">
				<option value=0>0</option>
				<option value=1>+1</option>
				<option value=2>+2</option>
				<option value=3>+3</option>
				<option value=4>+4</option>
				<option value=5>+5</option>
				<option value=6>+6</option>
				<option value=7>+7</option>
				<option value=8>+8</option>
				<option value=9>+9</option>
				<option value=10>+10</option>
			</select>
		</td>
		<td  id="play1Atk" value="0">
			0
		</td>
	</table>
	<table style="width:90%; border: none; ">
		<td>
			<select style="font-size: larger;" value="0" onchange="p2Select(this.value)">
				<option value="0" SELECTED  disabled>play 2</option>
				<option value="1">一號</option>
				<option value="2">二號</option>
				<option value="3">三號</option>
				<option value="4">四號</option>
				<option value="5">五號</option>
				<option value="6">六號</option>
				<option value="7">七號</option>
				<option value="8">八號</option>
				<option value="9">九號</option>
				<option value="10">十號</option>
			</select>
		</td>
		<td>
			<select style="font-size: larger;" id="p2RollValue" onchange="p2Sum()">
				<option value=1>+1</option>
				<option value=2>+2</option>
				<option value=3>+3</option>
				<option value=4>+4</option>
				<option value=5>+5</option>
				<option value=6>+6</option>
				<option value=7>+7</option>
				<option value=8>+8</option>
				<option value=9>+9</option>
				<option value=10>+10</option>
			</select>
		</td>
		<td>
			<select style="font-size: larger;" id="p2AddValue" onchange="p2Sum()">
				<option value=0>0</option>
				<option value=1>+1</option>
				<option value=2>+2</option>
				<option value=3>+3</option>
				<option value=4>+4</option>
				<option value=5>+5</option>
				<option value=6>+6</option>
				<option value=7>+7</option>
				<option value=8>+8</option>
				<option value=9>+9</option>
				<option value=10>+10</option>
			</select>
		</td>
		<td  id="play2Atk" value="0">
			0
		</td>
	</table>
</body>
</html>


<script>
	var p1Select = function( no ){
		$("#play1Atk").val(parseInt($("#atk" + no).html()));
		p1Sum();
	}
	
	var p1Sum = function( ){
		let ps = parseInt($("#play1Atk").val()) + parseInt($("#p1RollValue").val()) + parseInt($("#p1AddValue").val());
		$("#play1Atk").html(ps);
	}
	
	var p2Select = function( no ){
		$("#play2Atk").val(parseInt($("#atk" + no).html()));
		p2Sum();
	}
	
	var p2Sum = function( ){
		let ps = parseInt($("#play2Atk").val()) + parseInt($("#p2RollValue").val()) + parseInt($("#p2AddValue").val());
		$("#play2Atk").html(ps);
	}
	
	var atkAdd = function ( no ){
		var aa = $("#atk" + no);
		var value = parseInt(aa.html());
		value = value + 1 ;
		aa.html(value);
		changeWed();
	}
	
	var atkRed = function ( no ){
		var aa = $("#atk" + no);
		var value = parseInt(aa.html());
		value = value - 1 ;
		aa.html(value);
		changeWed();
	}
	
	var hpAdd = function ( no ){
		var aa = $("#hp" + no);
		var value = parseInt(aa.html());
		value = value + 1 ;
		aa.html(value);
		changeWed();
	}
	
	var hpRed = function ( no ){
		var aa = $("#hp" + no);
		var value = parseInt(aa.html());
		value = value - 1 ;
		aa.html(value);
		changeWed();
	}
	
	var wedAdd = function ( no ){
		var aa = $("#wed" + no);
		var value = parseInt(aa.html());
		value = value + 5 ;
		aa.html(value);
		changeWed();
	}
	
	var wedRed = function ( no ){
		var aa = $("#wed" + no);
		var value = parseInt(aa.html());
		value = value - 5 ;
		aa.html(value);
		changeWed();
	}
	
	var changeStatus = function( no ){
		var aa = $("#status" + no);
		if( aa.html() == "犯人"){
			aa.html("獄警");
			document.getElementById("status" + no).style = "background-color:cornflowerblue";
		}
		else{
			aa.html("犯人");
			document.getElementById("status" + no).style = "background-color:white";
		}
		changeWed();
	}
	
	var changeWed = function(){
		var totalWed = 0;
		for (var i = 1 ; i <=10 ; i++ ){
			var aa = $("#hp" + i);
			if( parseInt(aa.html()) > 0 ){
				var dc = document.getElementById("tr" + i);
				dc.classList.remove('deadColor');
				if( $("#status" + i).html() == "犯人"){
					totalWed = totalWed + parseInt($("#wed" + i).html());
				}
			}
			else{
				var dc = document.getElementById("tr" + i);
				dc.classList.add('deadColor');
			}
		}
		$("#totalWed").html(totalWed);
	}
	
	var team = function( no ){
		var dc = document.getElementById("no" + no);
		if(dc.classList.contains('teamColor')){
			dc.classList.remove('teamColor');
		}
		else {
			dc.classList.add('teamColor');
		}
		teamAtkSum();
	}
	
	var teamAtkSum = function(){
		var teamAll = document.querySelectorAll(".teamColor");
		var teamAtk = 0;
		teamAll.forEach(member => { 
			teamAtk = teamAtk + parseInt($("#" + member.id.replace('no','atk')).html());
		});
		$("#teamAtk").html(teamAtk);
		changeTeamAtk();
	}
	
	var teamAtkAdd = function(){
		var teamAtk = parseInt($("#teamAtk").html());
		$("#teamAtk").html( teamAtk +1);
		changeTeamAtk();
	}
	
	
	var teamAtkRed = function(){
		var teamAtk = parseInt($("#teamAtk").html());
		$("#teamAtk").html( teamAtk -1);
		changeTeamAtk();
	}
	
	var reTeamAtk = function(){
		var teamAll = document.querySelectorAll(".teamColor");
		teamAll.forEach(member => { 
			var dc = document.getElementById(member.id);
			dc.classList.remove('teamColor');
		});
		teamAtkSum();
	}
	
	var changeTeamAtk = function(){
		var teamAtk = parseInt($("#teamAtk").html());
		for (var i=1 ; i<=6 ; i++){
			$("#teamAtk" + i).html(teamAtk+i);
		}
	}
	changeWed();
</script>
